(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f600464c"],{"25f0":function(t,e,a){"use strict";var n=a("6eeb"),r=a("825a"),i=a("d039"),o=a("ad6d"),s="toString",l=RegExp.prototype,u=l[s],c=i((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),d=u.name!=s;(c||d)&&n(RegExp.prototype,s,(function(){var t=r(this),e=String(t.source),a=t.flags,n=String(void 0===a&&t instanceof RegExp&&!("flags"in l)?o.call(t):a);return"/"+e+"/"+n}),{unsafe:!0})},5319:function(t,e,a){"use strict";var n=a("d784"),r=a("825a"),i=a("7b0b"),o=a("50c4"),s=a("a691"),l=a("1d80"),u=a("8aa5"),c=a("14c3"),d=Math.max,f=Math.min,h=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,p=/\$([$&'`]|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,a,n){var b=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=n.REPLACE_KEEPS_$0,_=b?"$":"$0";return[function(a,n){var r=l(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,r,n):e.call(String(r),a,n)},function(t,n){if(!b&&v||"string"===typeof n&&-1===n.indexOf(_)){var i=a(e,t,this,n);if(i.done)return i.value}var l=r(t),h=String(this),m="function"===typeof n;m||(n=String(n));var p=l.global;if(p){var y=l.unicode;l.lastIndex=0}var k=[];while(1){var w=c(l,h);if(null===w)break;if(k.push(w),!p)break;var j=String(w[0]);""===j&&(l.lastIndex=u(h,o(l.lastIndex),y))}for(var S="",F=0,I=0;I<k.length;I++){w=k[I];for(var D=String(w[0]),P=d(f(s(w.index),h.length),0),$=[],z=1;z<w.length;z++)$.push(g(w[z]));var C=w.groups;if(m){var E=[D].concat($,P,h);void 0!==C&&E.push(C);var O=String(n.apply(void 0,E))}else O=x(D,h,P,$,C,n);P>=F&&(S+=h.slice(F,P)+O,F=P+D.length)}return S+h.slice(F)}];function x(t,a,n,r,o,s){var l=n+t.length,u=r.length,c=p;return void 0!==o&&(o=i(o),c=m),e.call(s,c,(function(e,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return a.slice(0,n);case"'":return a.slice(l);case"<":s=o[i.slice(1,-1)];break;default:var c=+i;if(0===c)return e;if(c>u){var d=h(c/10);return 0===d?e:d<=u?void 0===r[d-1]?i.charAt(1):r[d-1]+i.charAt(1):e}s=r[c-1]}return void 0===s?"":s}))}}))},a434:function(t,e,a){"use strict";var n=a("23e7"),r=a("23cb"),i=a("a691"),o=a("50c4"),s=a("7b0b"),l=a("65f0"),u=a("8418"),c=a("1dde"),d=a("ae40"),f=c("splice"),h=d("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,p=Math.min,g=9007199254740991,b="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!f||!h},{splice:function(t,e){var a,n,c,d,f,h,v=s(this),_=o(v.length),x=r(t,_),y=arguments.length;if(0===y?a=n=0:1===y?(a=0,n=_-x):(a=y-2,n=p(m(i(e),0),_-x)),_+a-n>g)throw TypeError(b);for(c=l(v,n),d=0;d<n;d++)f=x+d,f in v&&u(c,d,v[f]);if(c.length=n,a<n){for(d=x;d<_-n;d++)f=d+n,h=d+a,f in v?v[h]=v[f]:delete v[h];for(d=_;d>_-n+a;d--)delete v[d-1]}else if(a>n)for(d=_-n;d>x;d--)f=d+n-1,h=d+a-1,f in v?v[h]=v[f]:delete v[h];for(d=0;d<a;d++)v[d+x]=arguments[d+2];return v.length=_-n+a,c}})},c657:function(t,e,a){"use strict";a.d(e,"j",(function(){return r})),a.d(e,"a",(function(){return i})),a.d(e,"i",(function(){return o})),a.d(e,"h",(function(){return s})),a.d(e,"g",(function(){return l})),a.d(e,"k",(function(){return u})),a.d(e,"e",(function(){return c})),a.d(e,"c",(function(){return d})),a.d(e,"f",(function(){return f})),a.d(e,"l",(function(){return h})),a.d(e,"b",(function(){return m}));var n=a("b775");function r(t){return Object(n["a"])({url:"/8084/predict/start",method:"post",params:t})}function i(t){return Object(n["a"])({url:"/8084/predict",method:"delete",params:t})}function o(t){return Object(n["a"])({url:"/8084/predict/log?trainjob_id="+t,method:"post",params:t})}function s(t){return Object(n["a"])({params:t,url:"/8084/predict/search",method:"get"})}function l(t){return Object(n["a"])({url:"/8084/8084/newtrain/getVisualData",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/8084/predict",method:"post",data:t})}function c(t){return Object(n["a"])({params:t,url:"/8084/train/search",method:"get"})}function d(t){return Object(n["a"])({params:t,url:"/8081/model/nopage",method:"get"})}function f(t){return Object(n["a"])({url:"/8081/model/getTargetDatasets",method:"get",params:t})}function h(t){return Object(n["a"])({url:"/8084/predict/pic0",method:"post",data:t,headers:{"Content-Type":"multipart/form-data;charset=utf-8"}})}function m(){return Object(n["a"])({url:"/8084/predict/getAccess",method:"get"})}},c740:function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").findIndex,i=a("44d2"),o=a("ae40"),s="findIndex",l=!0,u=o(s);s in[]&&Array(1)[s]((function(){l=!1})),n({target:"Array",proto:!0,forced:l||!u},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(s)},e01a:function(t,e,a){"use strict";var n=a("23e7"),r=a("83ab"),i=a("da84"),o=a("5135"),s=a("861d"),l=a("9bf2").f,u=a("e893"),c=i.Symbol;if(r&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var d={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new c(t):void 0===t?c():c(t);return""===t&&(d[e]=!0),e};u(f,c);var h=f.prototype=c.prototype;h.constructor=f;var m=h.toString,p="Symbol(test)"==String(c("test")),g=/^Symbol\((.*)\)[^)]+$/;l(h,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=m.call(t);if(o(d,t))return"";var a=p?e.slice(7,-1):e.replace(g,"$1");return""===a?void 0:a}}),n({global:!0,forced:!0},{Symbol:f})}},f3b0:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-button",{attrs:{plain:"",size:"mini",type:"primary"},on:{click:t.createbtn}},[t._v("从训练作业导入")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",fit:"","highlight-current-row":""},on:{"expand-change":t.handleExpendRow}},[a("el-table-column",{attrs:{type:"expand",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.sublistLoading,expression:"sublistLoading"}],attrs:{data:t.sublist[String(e.$index)]}},[a("el-table-column",{attrs:{label:"模型版本",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.version)+" ")]}}],null,!0)}),a("el-table-column",{attrs:{label:"来自训练作业",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.tj_name)+" ")]}}],null,!0)}),a("el-table-column",{attrs:{label:"模型唯一标识号",width:"127"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.uuid)+" "),a("el-tooltip",{attrs:{effect:"light",content:"在边缘端预测接口中使用该标识号",placement:"right-start"}},[a("i",{staticClass:"el-icon-question"})])]}}],null,!0)}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"模型大小",width:"100"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"创建时间",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time"}),t._v(t._s(t._f("formatDate")(e.row.create_time))+" ")]}}],null,!0)}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"描述",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.descr))]}}],null,!0)}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"500"},scopedSlots:t._u([{key:"default",fn:function(n){return[a("el-button",{attrs:{size:"mini",type:"gray"},on:{click:function(e){return t.handleDownload(n.row.model_oss_path)}}},[t._v("下载模型文件")]),a("el-button",{attrs:{size:"mini",type:"gray"},on:{click:function(e){return t.handleCopyDownloadURL(n.row.model_oss_path)}}},[t._v("复制下载链接")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleSubDelete(n,e.$index)}}},[t._v("删除")])]}}],null,!0)})],1),a("el-pagination",{attrs:{"current-page":t.queryInfo0[String(e.$index)].pagenum,"page-sizes":[2,3,4,5,6,7,8,9,10],"page-size":t.queryInfo0[String(e.$index)].pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.queryInfo0[String(e.$index)].totalData},on:{"size-change":function(a){return t.handleSizeChange0(a,e.$index,e.row)},"current-change":function(a){return t.handleCurrentChange0(a,e.$index,e.row)}}})]}}])}),a("el-table-column",{attrs:{label:"模型名称",width:"0"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.name)+" ")]}}])}),a("el-table-column",{attrs:{label:"最新版本",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.latest_ver))])]}}])}),a("el-table-column",{attrs:{label:"版本数量",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.ver_count)+" ")]}}])}),a("el-table-column",{attrs:{label:"创建时间",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time"}),a("span",[t._v(t._s(t._f("formatDate")(e.row.create_time)))])]}}])}),a("el-table-column",{attrs:{label:"描述",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.descr)+" ")]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"gray"},on:{click:function(a){return t.handleNewVersion(e)}}},[t._v("创建新版本")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e,e.$index)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{attrs:{"current-page":t.queryInfo.pagenum,"page-sizes":[2,3,4,10,12,15],"page-size":t.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.queryInfo.totalData},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("el-dialog",{attrs:{title:"模型信息",visible:t.dialogFormVisible,"show-close":!0},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[t.dialogFormVisible?a("el-form",{ref:"taskForm",staticClass:"demo-taskForm",attrs:{model:t.taskForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"模型名称",prop:"name"}},[a("el-input",{model:{value:t.taskForm.name,callback:function(e){t.$set(t.taskForm,"name",e)},expression:"taskForm.name"}})],1),a("el-form-item",{attrs:{label:"模型描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.taskForm.description,callback:function(e){t.$set(t.taskForm,"description",e)},expression:"taskForm.description"}})],1),a("el-form-item",{attrs:{label:"模型版本号"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.taskForm.version,callback:function(e){t.$set(t.taskForm,"version",e)},expression:"taskForm.version"}})],1),a("el-form-item",{attrs:{label:"选择训练",prop:"model_path"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.taskForm.trainjob_index,callback:function(e){t.$set(t.taskForm,"trainjob_index",e)},expression:"taskForm.trainjob_index"}},[a("div",{staticClass:"scrollbar",staticStyle:{height:"150px"}},[a("el-scrollbar",{staticStyle:{height:"100%"}},t._l(t.initialPara.trainjob_names,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:e}})})),1)],1)])],1),a("el-form-item",{attrs:{label:"模型文件",prop:"model_path"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.taskForm.trainjob_index,callback:function(e){t.$set(t.taskForm,"trainjob_index",e)},expression:"taskForm.trainjob_index"}},[a("div",{staticClass:"scrollbar",staticStyle:{height:"150px"}},[a("el-scrollbar",{staticStyle:{height:"100%"}},t._l(t.initialPara.trainjob_path,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:e}})})),1)],1)])],1)],1):t._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){return t.cancelbtn("taskForm")}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.create("taskForm")}}},[t._v("提交")])],1)],1)],1)},r=[],i=a("ade3"),o=(a("d3b7"),a("25f0"),a("c740"),a("b0c0"),a("a434"),a("a4d3"),a("e01a"),a("ac1f"),a("1276"),a("fb6a"),a("5319"),a("b775"));function s(t){return Object(o["a"])({url:"/8081/model/name/",method:"get",params:t})}function l(t){return Object(o["a"])({url:"/8081/model?label_uuid="+t,method:"delete",data:t})}function u(t){return Object(o["a"])({url:"/8081/model",method:"post",data:t})}var c,d=a("c657"),f=a("4360"),h={filters:{statusFilter:function(t){var e={published:"success",draft:"gray",deleted:"danger"};return e[t]},formatDate:function(t){var e=t[0],a=t[1],n=t[2],r=t[3],i=t[4],o=t[5];return r.toString().length<2&&(r="0"+r),null==i?i="00":i.toString().length<2&&(i="0"+i),null==o?(o="00",console.log(r.length)):o.toString().length<2&&(o="0"+o)," "+e+"-"+a+"-"+n+" "+r+":"+i+":"+o}},data:function(){return{list:null,sublist:{},listLoading:!0,sublistLoading:!1,queryInfo:{user_id:f["a"].getters.userid,pagenum:1,pagesize:10,totalData:0},queryInfo0:{},initialPara:{inputData:{name:[],uuid:[]},outpath:[],trainjob_names:[],trainjob_uuids:[],trainjob_path:[]},dialogFormVisible:!1,taskForm:{user_id:"",name:"",algorithm:"",data:"",model_path:"",outpath:"",description:"",paras:[],uuid:"",version:"",oss_path:"",trainjob_index:""},rules:{name:[{required:!0,message:"请输入任务名称",trigger:"blur"}],data:[{required:!0,message:"请选择要预测的数据集",trigger:"change"}],outpath:[{required:!0,message:"请选择输出位置",trigger:"change"}]}}},created:function(){1==f["a"].getters.register&&this.$router.push("/dashboard"),this.fetchData()},methods:(c={handleExpendRow:function(t,e){var a=this.list.findIndex((function(e){return e.uuid==t.uuid})).toString();this.sublist[a]||(this.queryInfo0[a]={},this.fetchSubData(a,t))},fetchSubData:function(t,e){var a=this,n={user_id:f["a"].getters.userid,name:e.name,curr:this.queryInfo0[t].hasOwnProperty("pagenum")?this.queryInfo0[t].pagenum:1,size:this.queryInfo0[t].hasOwnProperty("pagesize")?this.queryInfo0[t].pagesize:10};this.sublistLoading=!0,s(n).then((function(e){a.queryInfo0[t]={pagenum:e.data.items.current,pagesize:e.data.items.size,totalData:e.data.items.total},a.sublist[t]=e.data.items.records,a.sublistLoading=!1}))},fetchData:function(){var t=this,e={user_id:f["a"].getters.userid,curr:this.queryInfo.pagenum,size:this.queryInfo.pagesize};this.listLoading=!0,(void 0)(e).then((function(e){t.queryInfo.pagenum=e.data.items.current,t.queryInfo.pagesize=e.data.items.size,t.queryInfo.totalData=e.data.items.total,t.list=e.data.items.records,t.listLoading=!1}))},handleSubDelete:function(t,e){var a=this;this.$confirm("是否删除该模型","请确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){l(t.row.uuid).then((function(n){a.sublist[e].splice(t.$index,1),a.$message("已删除"),a.fetchData()}))})).catch((function(){}))},handleDelete:function(t,e){var a=this;this.$confirm("是否删除该模型","请确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){l(t.row.uuid).then((function(t){a.$message("已删除"),a.fetchData()})),a.list[e].splice(t.$index,1)})).catch((function(){}))},handleNewVersion:function(t){var e=this;this.dialogFormVisible=!0,this.taskForm.uuid=this.generateUUID(),this.taskForm.user_id=f["a"].getters.userid,this.taskForm.name=t.row.name,this.taskForm.algorithm="",this.taskForm.description=t.row.descr;var a=t.row.latest_ver,n=a.split("."),r=parseInt(n[0]),i=parseInt(n[1]),o=parseInt(n[2])+1;o>=100&&(o=0,i+=1),i>=100&&(i=0,r+=1),this.taskForm.version=r+"."+i+"."+o;var s={curr:1,size:100,user_id:f["a"].getters.userid,tj_status:2};Object(d["e"])(s).then((function(t){console.log(t.data.items),e.initialPara.trainjob_names=[],e.initialPara.trainjob_uuids=[],e.initialPara.trainjob_path=[];for(var a=0;a<t.data.items.total;a++)e.initialPara.trainjob_names.push(t.data.items.records[a].name),e.initialPara.trainjob_uuids.push(t.data.items.records[a].uuid),e.initialPara.trainjob_path.push(t.data.items.records[a].model_oss_path)}))},handleSizeChange:function(t){this.queryInfo.pagesize=t,this.fetchData()},handleCurrentChange:function(t){this.queryInfo.pagenum=t,this.fetchData()},handleSizeChange0:function(t,e,a){this.queryInfo0[e].pagesize=t,this.fetchSubData(e,a)},handleCurrentChange0:function(t,e,a){this.queryInfo0[e].pagenum=t,this.fetchSubData(e,a)},createbtn:function(){var t=this;this.dialogFormVisible=!0,this.taskForm.uuid=this.generateUUID(),this.taskForm.user_id=f["a"].getters.userid,this.taskForm.name="model-"+this.taskForm.uuid.slice(0,4),this.taskForm.algorithm="",this.taskForm.data="",this.taskForm.outpath="",this.taskForm.description="",this.taskForm.paras=[],this.taskForm.version="0.0.1",this.taskForm.trainjob_index="";var e={curr:1,size:100,user_id:f["a"].getters.userid,tj_status:2};Object(d["e"])(e).then((function(e){console.log(e.data.items),t.initialPara.trainjob_names=[],t.initialPara.trainjob_uuids=[],t.initialPara.trainjob_path=[];for(var a=0;a<e.data.items.total;a++)t.initialPara.trainjob_names.push(e.data.items.records[a].name),t.initialPara.trainjob_uuids.push(e.data.items.records[a].uuid),t.initialPara.trainjob_path.push(e.data.items.records[a].model_oss_path)}))},generateUUID:function(){var t=(new Date).getTime();window.performance&&"function"===typeof window.performance.now&&(t+=performance.now());var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var a=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?a:3&a|8).toString(16)})).replace(/-/g,"");return e},cancelbtn:function(t){this.dialogFormVisible=!1,this.$refs[t].resetFields()},create:function(t){var e=this,a={name:this.taskForm.name,version:this.taskForm.version,uuid:this.taskForm.uuid,user_id:f["a"].getters.userid,tj_id:this.initialPara.trainjob_uuids[this.taskForm.trainjob_index],tj_name:this.initialPara.trainjob_names[this.taskForm.trainjob_index],model_oss_path:this.initialPara.trainjob_path[this.taskForm.trainjob_index],descr:this.taskForm.description};console.log(a),u(a).then((function(t){console.log(t.data),e.fetchData()})),this.dialogFormVisible=!1,this.$refs[t].resetFields()}},Object(i["a"])(c,"cancelbtn",(function(t){this.dialogFormVisible=!1,this.$refs[t].resetFields()})),Object(i["a"])(c,"handleDownload",(function(t){var e={bucketName:"modelcraft",objectPrefix:t.substring(0,t.length-1)};console.log(e),console.log(Object({NODE_ENV:"production",VUE_APP_BASE_API:"/prod-api",BASE_URL:""}));var a=document.createElement("a");a.href="/8089/minio-service/downloadZipByPrefix/?bucketName="+encodeURI(e.bucketName)+"&objectPrefix="+encodeURI(e.objectPrefix),a.click()})),Object(i["a"])(c,"handleCopyDownloadURL",(function(t){var e={bucketName:"modelcraft",objectPrefix:t.substring(0,t.length-1)},a="http://121.36.6.55:9528/8089/minio-service/downloadZipByPrefix/?bucketName="+encodeURI(e.bucketName)+"&objectPrefix="+encodeURI(e.objectPrefix),n=document.createElement("input");n.value=a,document.body.appendChild(n),n.select(),document.execCommand("Copy"),n.className="oInput",n.style.display="none",this.$message.success("已复制到剪贴板\n下载链接："+a)})),c)},m=h,p=a("2877"),g=Object(p["a"])(m,n,r,!1,null,null,null);e["default"]=g.exports},fb6a:function(t,e,a){"use strict";var n=a("23e7"),r=a("861d"),i=a("e8b5"),o=a("23cb"),s=a("50c4"),l=a("fc6a"),u=a("8418"),c=a("b622"),d=a("1dde"),f=a("ae40"),h=d("slice"),m=f("slice",{ACCESSORS:!0,0:0,1:2}),p=c("species"),g=[].slice,b=Math.max;n({target:"Array",proto:!0,forced:!h||!m},{slice:function(t,e){var a,n,c,d=l(this),f=s(d.length),h=o(t,f),m=o(void 0===e?f:e,f);if(i(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!i(a.prototype)?r(a)&&(a=a[p],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return g.call(d,h,m);for(n=new(void 0===a?Array:a)(b(m-h,0)),c=0;h<m;h++,c++)h in d&&u(n,c,d[h]);return n.length=c,n}})}}]);