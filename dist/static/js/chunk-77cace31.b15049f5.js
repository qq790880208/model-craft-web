(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77cace31"],{"03f6":function(t,e,r){},1148:function(t,e,r){"use strict";var o=r("a691"),a=r("1d80");t.exports="".repeat||function(t){var e=String(a(this)),r="",i=o(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(r+=e);return r}},"11c1":function(t,e,r){var o=r("c437"),a=r("c64e"),i=a;i.v1=o,i.v4=a,t.exports=i},2366:function(t,e){for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);function a(t,e){var o=e||0,a=r;return[a[t[o++]],a[t[o++]],a[t[o++]],a[t[o++]],"-",a[t[o++]],a[t[o++]],"-",a[t[o++]],a[t[o++]],"-",a[t[o++]],a[t[o++]],"-",a[t[o++]],a[t[o++]],a[t[o++]],a[t[o++]],a[t[o++]],a[t[o++]]].join("")}t.exports=a},"25f0":function(t,e,r){"use strict";var o=r("6eeb"),a=r("825a"),i=r("d039"),n=r("ad6d"),s="toString",l=RegExp.prototype,c=l[s],u=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=s;(u||d)&&o(RegExp.prototype,s,(function(){var t=a(this),e=String(t.source),r=t.flags,o=String(void 0===r&&t instanceof RegExp&&!("flags"in l)?n.call(t):r);return"/"+e+"/"+o}),{unsafe:!0})},"408a":function(t,e,r){var o=r("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=o(t))throw TypeError("Incorrect invocation");return+t}},5319:function(t,e,r){"use strict";var o=r("d784"),a=r("825a"),i=r("7b0b"),n=r("50c4"),s=r("a691"),l=r("1d80"),c=r("8aa5"),u=r("14c3"),d=Math.max,f=Math.min,m=Math.floor,b=/\$([$&'`]|\d\d?|<[^>]*>)/g,p=/\$([$&'`]|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};o("replace",2,(function(t,e,r,o){var g=o.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=o.REPLACE_KEEPS_$0,j=g?"$":"$0";return[function(r,o){var a=l(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,a,o):e.call(String(a),r,o)},function(t,o){if(!g&&v||"string"===typeof o&&-1===o.indexOf(j)){var i=r(e,t,this,o);if(i.done)return i.value}var l=a(t),m=String(this),b="function"===typeof o;b||(o=String(o));var p=l.global;if(p){var k=l.unicode;l.lastIndex=0}var w=[];while(1){var x=u(l,m);if(null===x)break;if(w.push(x),!p)break;var O=String(x[0]);""===O&&(l.lastIndex=c(m,n(l.lastIndex),k))}for(var _="",S=0,C=0;C<w.length;C++){x=w[C];for(var T=String(x[0]),V=d(f(s(x.index),m.length),0),D=[],P=1;P<x.length;P++)D.push(h(x[P]));var R=x.groups;if(b){var F=[T].concat(D,V,m);void 0!==R&&F.push(R);var $=String(o.apply(void 0,F))}else $=y(T,m,V,D,R,o);V>=S&&(_+=m.slice(S,V)+$,S=V+T.length)}return _+m.slice(S)}];function y(t,r,o,a,n,s){var l=o+t.length,c=a.length,u=p;return void 0!==n&&(n=i(n),u=b),e.call(s,u,(function(e,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,o);case"'":return r.slice(l);case"<":s=n[i.slice(1,-1)];break;default:var u=+i;if(0===u)return e;if(u>c){var d=m(u/10);return 0===d?e:d<=c?void 0===a[d-1]?i.charAt(1):a[d-1]+i.charAt(1):e}s=a[u-1]}return void 0===s?"":s}))}}))},"6e0d":function(t,e,r){"use strict";r.d(e,"k",(function(){return a})),r.d(e,"a",(function(){return i})),r.d(e,"l",(function(){return n})),r.d(e,"m",(function(){return s})),r.d(e,"n",(function(){return l})),r.d(e,"p",(function(){return c})),r.d(e,"o",(function(){return u})),r.d(e,"b",(function(){return d})),r.d(e,"i",(function(){return f})),r.d(e,"f",(function(){return m})),r.d(e,"g",(function(){return b})),r.d(e,"c",(function(){return p})),r.d(e,"d",(function(){return h})),r.d(e,"e",(function(){return g}));var o=r("b775");function a(t){return Object(o["a"])({url:"/8089/minio-service/listObjectByPrefix",method:"get",params:t})}function i(t){return Object(o["a"])({url:"/8089/minio-service/createBucket",method:"get",params:t})}function n(t){return Object(o["a"])({url:"/8089/minio-service/removeBucket",method:"get",params:t})}function s(t){return Object(o["a"])({url:"/8089/minio-service/removeFile",method:"get",params:t})}function l(t){return Object(o["a"])({url:"/8089/minio-service/upload",method:"post",data:t,headers:{"Content-Type":"multipart/form-data;charset=utf-8"},timeout:1e6})}function c(t){return Object(o["a"])({url:"/8089/minio-service/compressZip",method:"post",data:t,headers:{"Content-Type":"multipart/form-data;charset=utf-8"},timeout:1e6})}function u(t){return Object(o["a"])({url:"/8089/minio-service/uploadNew",method:"post",data:t,headers:{"Content-Type":"multipart/form-data;charset=utf-8"}})}function d(t){return Object(o["a"])({url:"/8089/minio-service/createFolder",method:"get",params:t})}function f(t){return Object(o["a"])({url:"/8089/minio-service/listFolder",method:"get",params:t})}function m(t){return Object(o["a"])({url:"/8089/minio-service/fileRename",method:"get",params:t})}function b(t){return Object(o["a"])({url:"/8089/minio-service/fileURL",method:"get",params:t})}function p(t){return Object(o["a"])({url:"/8089/minio-service/fileCopy",method:"get",params:t})}function h(t){return Object(o["a"])({url:"/8089/minio-service/fileCopyNew",method:"get",params:t})}function g(t){return Object(o["a"])({url:"/8089/minio-service/fileMove",method:"get",params:t})}},7369:function(t,e,r){"use strict";r("03f6")},"7e1e":function(t,e,r){"use strict";r.d(e,"f",(function(){return a})),r.d(e,"c",(function(){return i})),r.d(e,"e",(function(){return n})),r.d(e,"h",(function(){return s})),r.d(e,"i",(function(){return l})),r.d(e,"a",(function(){return c})),r.d(e,"m",(function(){return u})),r.d(e,"k",(function(){return d})),r.d(e,"b",(function(){return f})),r.d(e,"l",(function(){return m})),r.d(e,"j",(function(){return b})),r.d(e,"d",(function(){return p}));var o=r("b775");function a(t){return Object(o["a"])({url:"/8085/data/getAssignedData",method:"get",params:t})}function i(t){return Object(o["a"])({url:"/8085/data/create",method:"post",params:t})}function n(t){return Object(o["a"])({url:"/8089/dataset/delete",method:"delete",params:t})}function s(t){return Object(o["a"])({url:"/8085/userlabel/getAll",method:"get",params:t})}function l(t){return Object(o["a"])({url:"/8085/userlabel/getLabel",method:"get",params:t})}function c(t){return Object(o["a"])({url:"/8085/userlabel/assignLabel",method:"post",params:t})}function u(t){return Object(o["a"])({url:"/8085/label/fresh",method:"put",params:t})}function d(t){return Object(o["a"])({url:"/8085/tag/get",method:"get",params:t})}function f(t){return Object(o["a"])({url:"/8085/userlabel/assignNewData",method:"post",params:t})}function m(t){return Object(o["a"])({url:"/8085/userlabel/reAssign",method:"post",params:t})}function b(t){return Object(o["a"])({url:"/8085/userlabel/getNewLabel",method:"get",params:t})}function p(t){return Object(o["a"])({url:"/8085/teamdataset/delTeam",method:"delete",params:t})}},a15b:function(t,e,r){"use strict";var o=r("23e7"),a=r("44ad"),i=r("fc6a"),n=r("a640"),s=[].join,l=a!=Object,c=n("join",",");o({target:"Array",proto:!0,forced:l||!c},{join:function(t){return s.call(i(this),void 0===t?",":t)}})},a434:function(t,e,r){"use strict";var o=r("23e7"),a=r("23cb"),i=r("a691"),n=r("50c4"),s=r("7b0b"),l=r("65f0"),c=r("8418"),u=r("1dde"),d=r("ae40"),f=u("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,p=Math.min,h=9007199254740991,g="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!f||!m},{splice:function(t,e){var r,o,u,d,f,m,v=s(this),j=n(v.length),y=a(t,j),k=arguments.length;if(0===k?r=o=0:1===k?(r=0,o=j-y):(r=k-2,o=p(b(i(e),0),j-y)),j+r-o>h)throw TypeError(g);for(u=l(v,o),d=0;d<o;d++)f=y+d,f in v&&c(u,d,v[f]);if(u.length=o,r<o){for(d=y;d<j-o;d++)f=d+o,m=d+r,f in v?v[m]=v[f]:delete v[m];for(d=j;d>j-o+r;d--)delete v[d-1]}else if(r>o)for(d=j-o;d>y;d--)f=d+o-1,m=d+r-1,f in v?v[m]=v[f]:delete v[m];for(d=0;d<r;d++)v[d+y]=arguments[d+2];return v.length=j-o+r,u}})},ac98:function(t,e,r){"use strict";r.d(e,"f",(function(){return a})),r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return n})),r.d(e,"c",(function(){return s})),r.d(e,"d",(function(){return l})),r.d(e,"e",(function(){return c}));var o=r("b775");function a(t){return Object(o["a"])({url:"/8088/team/getTeams",method:"get",params:t})}function i(t){return Object(o["a"])({url:"/8088/team/delTeams",method:"delete",params:t})}function n(t){return Object(o["a"])({url:"/8088/team/addTeams",method:"post",params:t})}function s(t){return Object(o["a"])({url:"/8088/team/editTeams",method:"put",params:t})}function l(t){return Object(o["a"])({url:"/8085/team/getAll",method:"get",params:t})}function c(t){return Object(o["a"])({url:"/8085/team/getSelect",method:"get",params:t})}},b680:function(t,e,r){"use strict";var o=r("23e7"),a=r("a691"),i=r("408a"),n=r("1148"),s=r("d039"),l=1..toFixed,c=Math.floor,u=function(t,e,r){return 0===e?r:e%2===1?u(t,e-1,r*t):u(t*t,e/2,r)},d=function(t){var e=0,r=t;while(r>=4096)e+=12,r/=4096;while(r>=2)e+=1,r/=2;return e},f=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){l.call({})}));o({target:"Number",proto:!0,forced:f},{toFixed:function(t){var e,r,o,s,l=i(this),f=a(t),m=[0,0,0,0,0,0],b="",p="0",h=function(t,e){var r=-1,o=e;while(++r<6)o+=t*m[r],m[r]=o%1e7,o=c(o/1e7)},g=function(t){var e=6,r=0;while(--e>=0)r+=m[e],m[e]=c(r/t),r=r%t*1e7},v=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==m[t]){var r=String(m[t]);e=""===e?r:e+n.call("0",7-r.length)+r}return e};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(b="-",l=-l),l>1e-21)if(e=d(l*u(2,69,1))-69,r=e<0?l*u(2,-e,1):l/u(2,e,1),r*=4503599627370496,e=52-e,e>0){h(0,r),o=f;while(o>=7)h(1e7,0),o-=7;h(u(10,o,1),0),o=e-1;while(o>=23)g(1<<23),o-=23;g(1<<o),h(1,1),g(2),p=v()}else h(0,r),h(1<<-e,0),p=v()+n.call("0",f);return f>0?(s=p.length,p=b+(s<=f?"0."+n.call("0",f-s)+p:p.slice(0,s-f)+"."+p.slice(s-f))):p=b+p,p}})},c437:function(t,e,r){var o,a,i=r("e1f4"),n=r("2366"),s=0,l=0;function c(t,e,r){var c=e&&r||0,u=e||[];t=t||{};var d=t.node||o,f=void 0!==t.clockseq?t.clockseq:a;if(null==d||null==f){var m=i();null==d&&(d=o=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==f&&(f=a=16383&(m[6]<<8|m[7]))}var b=void 0!==t.msecs?t.msecs:(new Date).getTime(),p=void 0!==t.nsecs?t.nsecs:l+1,h=b-s+(p-l)/1e4;if(h<0&&void 0===t.clockseq&&(f=f+1&16383),(h<0||b>s)&&void 0===t.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=b,l=p,a=f,b+=122192928e5;var g=(1e4*(268435455&b)+p)%4294967296;u[c++]=g>>>24&255,u[c++]=g>>>16&255,u[c++]=g>>>8&255,u[c++]=255&g;var v=b/4294967296*1e4&268435455;u[c++]=v>>>8&255,u[c++]=255&v,u[c++]=v>>>24&15|16,u[c++]=v>>>16&255,u[c++]=f>>>8|128,u[c++]=255&f;for(var j=0;j<6;++j)u[c+j]=d[j];return e||n(u)}t.exports=c},c64e:function(t,e,r){var o=r("e1f4"),a=r("2366");function i(t,e,r){var i=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null),t=t||{};var n=t.random||(t.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e)for(var s=0;s<16;++s)e[i+s]=n[s];return e||a(n)}t.exports=i},d28d:function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return n}));var o=r("b775");function a(t){return Object(o["a"])({url:"/8082/dataset/tag",method:"get",params:t})}function i(t){return Object(o["a"])({url:"/8085/tag/saveTags",method:"post",data:t})}function n(t){return Object(o["a"])({url:"/8085/tag/updateTags",method:"put",data:t})}},d5f4:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"我的数据集",name:"allData"}},[r("el-form",{attrs:{inline:!0,model:t.filter}},[r("el-button",{staticStyle:{"text-align":"left"},attrs:{plain:"",type:"primary"},on:{click:function(e){return t.createDataSet()}}},[t._v(" 创建数据集 ")]),r("el-form-item",{staticClass:"dataSer"},[r("el-input",{attrs:{placeholder:"请输入查询的数据集名称",clearable:""},model:{value:t.filter.name,callback:function(e){t.$set(t.filter,"name",e)},expression:"filter.name"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.getDataSet()}},slot:"append"})],1)],1)],1),r("el-table",{staticStyle:{width:"100%",margin:"20px 0px 0px 0px"},attrs:{data:t.dataSets,"highlight-current-row":""},on:{"sort-change":t.sortChange}},[r("el-table-column",{attrs:{prop:"name",align:"center",label:"名称","min-width":"120",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{staticClass:"link-type",on:{click:function(r){return t.toDataSet(e.row)}}},[t._v(t._s(e.row.name))])]}}])}),r("el-table-column",{attrs:{prop:"label_type",align:"center",label:"标注类型","min-width":"120",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("formatType")(e.row.label_type))+" ")]}}])}),r("el-table-column",{attrs:{prop:"done",align:"center",label:"标注进度","min-width":"250",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticStyle:{width:"250px",margin:"0px auto"}},[r("el-progress",{attrs:{percentage:t.setItemProgress(e.row.done,e.row.tol)}}),r("span",[t._v(" "+t._s(e.row.done)+" / "+t._s(e.row.tol)+" ")])],1)]}}])}),r("el-table-column",{attrs:{prop:"accept",align:"center",label:"状态","min-width":"100",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-tag",{attrs:{type:1==e.row.accept?"success":"danger",hit:""}},[t._v(t._s(1==e.row.accept?"已验收":"未验收"))])]}}])}),r("el-table-column",{attrs:{prop:"descr",align:"center",label:"描述","min-width":"120",sortable:"custom"}}),r("el-table-column",{attrs:{prop:"create_time",align:"center",label:"创建时间","min-width":"150",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("formatDate")(e.row.create_time))+" ")]}}])}),r("el-table-column",{attrs:{label:"操作",align:"center",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"success",plain:"",size:"mini"},on:{click:function(r){return t.toStartLabel(e.row,e.row.label_type)}}},[t._v("开始标注")]),r("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(r){return t.showTeamDialog(e.$index,e.row)}}},[t._v("添加团队任务")]),r("el-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(r){return t.handleDel(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),r("el-col",{staticClass:"toolbar",attrs:{span:24}},[r("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"total, sizes ,prev, pager, next, jumper","page-size":t.page_size,"page-sizes":[2,5,10,20],total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1),r("el-dialog",{attrs:{title:"创建数据集",visible:t.dialogVisible,"before-close":t.handleCloseDialog},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px","label-position":"left",rules:t.addFormRules}},[r("el-form-item",{attrs:{label:"名称",prop:"name"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"描述"}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},autocomplete:"off"},model:{value:t.form.descr,callback:function(e){t.$set(t.form,"descr",e)},expression:"form.descr"}})],1),r("el-form-item",{attrs:{label:"标注场景",prop:"dataType"}},[r("el-radio-group",{attrs:{autocomplete:"off"},model:{value:t.form.dataType,callback:function(e){t.$set(t.form,"dataType",e)},expression:"form.dataType"}},[r("el-radio-button",{attrs:{label:"0",border:""}},[r("i",{staticClass:"el-icon-picture-outline"}),t._v("图片")]),r("el-radio-button",{attrs:{label:"1",border:""}},[r("i",{staticClass:"el-icon-microphone"}),t._v("音频")]),r("el-radio-button",{attrs:{label:"2",border:""}},[r("i",{staticClass:"el-icon-copy-document"}),t._v("3D")])],1)],1),r("el-form-item",{attrs:{label:"标注类型",prop:"labelType"}},[r("el-radio-group",{attrs:{autocomplete:"off"},model:{value:t.form.labelType,callback:function(e){t.$set(t.form,"labelType",e)},expression:"form.labelType"}},t._l(t.labels[t.form.dataType],(function(e){return r("el-radio-button",{key:e,attrs:{label:e,border:""}},[t._v(t._s(t.labelName[e]))])})),1)],1),r("el-form-item",{attrs:{label:"数据集图片输入位置",prop:"input"}},[r("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:t.form.input,disabled:!0},model:{value:t.form.input,callback:function(e){t.$set(t.form,"input",e)},expression:"form.input"}})],1),r("el-form-item",{attrs:{label:"数据集图片输入位置",prop:"input"}},[r("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:t.form.annotation,disabled:!0},model:{value:t.form.annotation,callback:function(e){t.$set(t.form,"annotation",e)},expression:"form.annotation"}})],1),r("el-form-item",{attrs:{label:"数据集模型输出位置",prop:"output"}},[r("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:t.form.output,disabled:!0},model:{value:t.form.output,callback:function(e){t.$set(t.form,"output",e)},expression:"form.output"}})],1),r("el-form-item",{attrs:{label:"添加标签集",prop:"tagss"}},[t._l(t.tags,(function(e){return r("el-tag",{key:e.value,attrs:{color:e.color,closable:"","disable-transitions":!1},on:{close:function(r){return t.handleCloseTagNew(e)}}},[t._v(" "+t._s(e.value)+" ")])})),t.inputVisible?r("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):t._e(),t.inputVisible?r("el-color-picker",{staticClass:"mycolor",attrs:{"show-alpha":"true",size:"small"},model:{value:t.color1,callback:function(e){t.color1=e},expression:"color1"}}):t._e(),t.inputVisible?r("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-finished"},on:{click:t.handleInputConfirm},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm(e)}}}):r("el-button",{staticClass:"button-new-tag",attrs:{size:"small",icon:"el-icon-plus"},on:{click:t.showInput}},[t._v("新标签")])],2)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){return t.cancel()}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.add()}}},[t._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"创建团队标注任务",visible:t.teamDialogVisible,"before-close":t.handleCloseDialog,width:"40%"},on:{"update:visible":function(e){t.teamDialogVisible=e}}},[r("el-form",{ref:"teamForm",attrs:{model:t.teamForm,"label-width":"100px","label-position":"left"}},[r("el-form-item",{attrs:{label:"团队名称"}},[r("span",[t._v(" "+t._s(t.teamForm.dataSetName)+" ")])]),r("el-form-item",{attrs:{label:"标注团队"}},[[r("el-select",{attrs:{placeholder:"请选择团队",clearable:""},model:{value:t.teamForm.teamValue,callback:function(e){t.$set(t.teamForm,"teamValue",e)},expression:"teamForm.teamValue"}},t._l(t.teams,(function(t){return r("el-option",{key:t.value,attrs:{label:t.name,value:t.id}})})),1)]],2)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){return t.cancel()}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addLabelTeam()}}},[t._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"选择路径",visible:t.ossInputVisible,width:"30%","show-close":!1},on:{"update:visible":function(e){t.ossInputVisible=e}}},[r("el-form",[r("el-form-item",{attrs:{label:"请选择桶:"}},[r("el-radio-group",{on:{change:t.chooseBucket},model:{value:t.bucketlist,callback:function(e){t.bucketlist=e},expression:"bucketlist"}},t._l(t.list,(function(e){return r("el-radio-button",{key:e.name,attrs:{label:e.name}},[t._v(t._s(e.name))])})),1)],1)],1),r("el-divider"),r("el-row",[r("el-button",{attrs:{icon:"el-icon-upload2",type:"text"},on:{click:t.retuenOdlRow}},[t._v("返回上级")]),r("el-divider",{attrs:{direction:"vertical"}}),r("el-tag",{attrs:{type:"info",effect:"light"}},[t._v("当前路径："+t._s(t.bucketlist)+" ："+t._s(t.objectcurrentRow))])],1),r("el-table",{attrs:{data:t.objectList,"highlight-current-row":""},on:{"row-click":t.getobjectbyPerfix}},[r("el-table-column",{attrs:{prop:"name",label:"请选择目录"}})],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.notInput}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.returnInput}},[t._v("确定")])],1)],1),r("el-dialog",{attrs:{title:"选择路径",visible:t.ossOutputVisible,width:"30%","show-close":!1},on:{"update:visible":function(e){t.ossOutputVisible=e}}},[r("el-form",[r("el-form-item",{attrs:{label:"请选择桶:"}},[r("el-radio-group",{on:{change:t.chooseBucket},model:{value:t.bucketlist,callback:function(e){t.bucketlist=e},expression:"bucketlist"}},t._l(t.list,(function(e){return r("el-radio-button",{key:e.name,attrs:{label:e.name}},[t._v(t._s(e.name))])})),1)],1)],1),r("el-divider"),r("el-row",[r("el-button",{attrs:{icon:"el-icon-upload2",type:"text"},on:{click:t.retuenOdlRow}},[t._v("返回上级")]),r("el-divider",{attrs:{direction:"vertical"}}),r("el-tag",{attrs:{type:"info",effect:"light"}},[t._v("当前路径："+t._s(t.bucketlist)+" ："+t._s(t.objectcurrentRow))])],1),r("el-table",{attrs:{data:t.objectList,"highlight-current-row":""},on:{"row-click":t.getobjectbyPerfix}},[r("el-table-column",{attrs:{prop:"name",label:"请选择目录"}})],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.notOutput}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.returnOutput}},[t._v("确定")])],1)],1)],1)},a=[],i=r("5530"),n=(r("d3b7"),r("25f0"),r("a434"),r("a15b"),r("ac1f"),r("5319"),r("b0c0"),r("b680"),r("4de4"),r("1276"),r("2f62")),s=r("7e1e"),l=r("6e0d"),c=r("4360"),u=r("ac98"),d=r("11c1"),f=r("d28d"),m={namespaced:!0,filters:{formatDate:function(t){if(!t)return"";var e=t[0],r=t[1],o=t[2],a=t[3],i=t[4],n=t[5];return a.toString().length<2&&(a="0"+a),null==i?i="00":i.toString().length<2&&(i="0"+i),null==n?n="00":n.toString().length<2&&(n="0"+n)," "+e+"-"+r+"-"+o+" "+a+":"+i+":"+n},formatType:function(t){return 0===t?"tensorflow-2D拉框标注":1===t||4===t?"tensorflow-多边形标注":2===t?"语音标注":3===t?"pytorch-2D拉框":5===t?"3D":void 0}},data:function(){var t=this,e=function(e,r,o){if(console.log("1231213213"),console.log(r),t.tags.length>0)return o();o(new Error("请输入标签"))};return{my_uuid:"",defaultPath:"",isClickFlag:!1,ratevalue:20,activeName:"allData",message:"",filter:{name:""},colorder:"",ordering:"",oldTeam:"",dataSets:[],total:0,page:1,page_size:5,dialogVisible:!1,inputVisible:!1,teamDialogVisible:!1,ossInputVisible:!1,ossOutputVisible:!1,bucketlist:"",list:[],objectList:[],objectcurrentRow:"",objectcurrentPrefix:"",objectoldRow:"",objectoldPrefix:"",selectBucket:"",selectObject:"",inputBucket:"",inputObject:"",outputBucket:"",outputObject:"",inputValue:"",teams:[],selectTeams:[],value:[],teamUser:[],form:{name:"",descr:"",dataType:"0",labelType:"",input:"",output:"",label:[]},teamForm:{dataSetName:"",teamValue:"",dataSetUuid:""},addFormRules:{name:[{required:!0,message:"请输入数据集名字",trigger:"blur"}],dataType:[{required:!0,message:"请选择",trigger:"blur"}],labelType:[{required:!0,message:"请选择",trigger:"blur"}],input:[{required:!0,message:"请选择",trigger:"blur"}],output:[{required:!0,message:"请选择",trigger:"blur"}],tagss:[{validator:e,trigger:"blur"}]},labels:[[0,1,3],[2],[5]],labelName:["tensorflow-2D拉框","tensorflow-像素级","语音","pytorch-2D拉框","pytorch-像素级","3D"],tags:[{value:"",color:""}],color1:"rgba(255, 128, 0, 0.75)"}},computed:Object(i["a"])({},Object(n["b"])(["name"])),mounted:function(){this.getDataSet()},created:function(){1==c["a"].getters.register&&this.$router.push("/dashboard")},methods:{sortChange:function(t){console.log("排序",t.prop,t.order),this.colorder=t.prop,null!=t.order&&(this.ordering=t.order),this.getDataSet()},datachange:function(t){return t},handleCloseTagNew:function(t){this.tags.splice(this.tags.indexOf(t),1)},handleCloseDialog:function(t){var e=this;this.$confirm("确认关闭？").then((function(r){t(),e.dialogVisible=!1,e.teamDialogVisible=!1})).catch((function(t){}))},handleClose:function(t){this.form.label.splice(this.form.label.indexOf(t),1)},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick((function(e){t.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var t=this.inputValue,e=this.color1;if(t){var r={value:t,color:e};this.tags.push(r)}this.inputVisible=!1,this.inputValue=""},changeFlag:function(){console("flag1",this.isClickFlag),this.isClickFlag=!0,console("flag2",this.isClickFlag)},showOssInputDialog:function(t){this.getbucket(),this.isClickFlag&&(t.input="",t.annotation="",t.output=""),this.isClickFlag=!1,this.ossInputVisible=!0},showOssAnnotationDialog:function(t){this.getbucket(),this.isClickFlag&&(t.input="",t.annotation="",t.output=""),this.isClickFlag=!1,this.ossInputVisible=!0},showOssOutputDialog:function(t){this.getbucket(),this.isClickFlag&&(t.input="",t.annotation="",t.output=""),this.isClickFlag=!1,this.ossOutputVisible=!0},cancel:function(){console.log(this.form.label.join(",")),this.dialogVisible=!1,this.teamDialogVisible=!1},createDataSet:function(){this.dialogVisible=!0,this.isClickFlag=!0,this.my_uuid=Object(d["v4"])().replace(/-/g,""),this.form={name:"",descr:"","dat改成aType":"0",labelType:"",input:"data/dataset/"+this.my_uuid+"/input/source/",annotation:"data/dataset/"+this.my_uuid+"/input/annotation/",output:"data/dataset/"+this.my_uuid+"/output/ckpt/",label:[]},this.isClickFlag},add:function(){var t=this;this.$refs.form.validate((function(e){if(console.log("mnbmbnbm"),console.log(t.inputBucket),!e)return console.log(t.form.label),t.$message.error("请正确填写表单"),!1;if(t.isClickFlag){console.log("isclcik=trrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrue");var r={uuid:t.my_uuid,userid:c["a"].getters.userid,labelType:t.form.labelType,name:t.form.name,descr:t.form.descr,input:t.form.input,annotation:t.form.annotation,output:t.form.output,bucket:"modelcraft"};console.log(t.form.label.toString()),Object(s["c"])(r).then((function(e){var r={bucketName:"modelcraft"};r.objectName="data/dataset/"+t.my_uuid+"/input/source/";var o={bucketName:"modelcraft"};o.objectName="data/dataset/"+t.my_uuid+"/input/annotation/";var a={bucketName:"modelcraft"};a.objectName="data/dataset/"+t.my_uuid+"/output/ckpt/",console.log(r,o,a),Object(l["b"])(r).then((function(t){2e4==t.code?console.log("haha1success"):console.log("haha1error")})),Object(l["b"])(o).then((function(t){2e4==t.code?console.log("haha2success"):console.log("haha2error")})),Object(l["b"])(a).then((function(t){2e4==t.code?console.log("haha3success"):console.log("haha3error")})),t.$message({message:"添加成功",type:"success"}),t.getDataSet();var i={data:t.tags,uuid:t.my_uuid};Object(f["b"])(i).then((function(e){t.$message({message:"添加成功",type:"success"})}))})),console.log(t.form),t.dialogVisible=!1}else{console.log("isclcik=falsssssssssssssssssssssssssssssssssssssssssssssseeee");var o={uuid:t.my_uuid,userid:c["a"].getters.userid,labelType:t.form.labelType,name:t.form.name,descr:t.form.descr,input:t.form.input,annotation:t.form.annotation,output:t.form.output,bucket:t.inputBucket};console.log(t.form.label.toString()),Object(s["c"])(o).then((function(e){t.$message({message:"添加成功",type:"success"}),t.getDataSet();var r={data:t.tags,uuid:t.my_uuid};Object(f["b"])(r).then((function(e){t.$message({message:"添加成功",type:"success"})}))})),console.log(t.form),t.dialogVisible=!1}}))},handleDel:function(t,e){var r=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then((function(){var t={uuid:e.uuid};Object(s["e"])(t).then((function(t){r.$message({message:"删除成功",type:"success"}),r.getDataSet()}))}))},handleEdit:function(t,e){},showTeamDialog:function(t,e){var r=this;this.getTeams(e.uuid),this.teamForm.teamValue="";var o={dataSetUuid:e.uuid};console.log(o),Object(u["e"])(o).then((function(t){r.selectTeams=t.data.items,r.teamForm.teamValue=t.data.items.name,r.oldTeam=t.data.items,r.teamForm.dataSetName=e.name,r.teamDialogVisible=!0,r.teamForm.dataSetUuid=e.uuid}))},addLabelTeam:function(){var t=this;this.teamForm.teamValue===this.oldTeam.name&&(this.teamForm.teamValue=this.oldTeam.id);var e={dataSetid:this.teamForm.dataSetUuid,teamid:this.teamForm.teamValue};console.log(e),Object(s["a"])(e).then((function(e){t.teamDialogVisible=!1,t.$message({message:"添加成功",type:"success"})})).catch()},getTeams:function(t){var e=this,r={dataSetUuid:t,name:c["a"].getters.name};Object(u["d"])(r).then((function(t){var r=t.data.items;e.teams=r,console.log(e.teams)}))},setItemProgress:function(t,e){return 0===t?0:t>e?100:parseInt(100*(t/e).toFixed(1))},handleSizeChange:function(t){this.page_size=t,this.getDataSet()},handleCurrentChange:function(t){this.page=t,this.getDataSet()},getDataSet:function(){var t=this,e={page:this.page,pagesize:this.page_size,id:c["a"].getters.userid,name:this.filter.name,colorder:this.colorder,ordering:this.ordering};console.log("dadadadadad"),console.log(e),Object(s["getDataByName"])(e).then((function(e){t.dataSets=e.data.items,t.total=e.data.total})),this.filter.name=""},getAssignDataSet:function(){var t=this,e={page:this.page,pagesize:this.page_size,id:c["a"].getters.userid,name:this.filter.name};Object(s["f"])(e).then((function(e){t.dataSetAssigned=e.data.items,t.total1=e.data.total})),this.filter.name=""},toDataSet:function(t){console.log("vallllllllllllllllllllllllllll",t),c["a"].dispatch("data/changeUuid",t.uuid),c["a"].dispatch("data/changeType",t.label_type),c["a"].dispatch("user/changeDataSet",t),console.log(c["a"].getters.uuid),console.log(c["a"].getters.type),console.log(c["a"].getters.dataSet),"标注员"!==t.role_type?this.$router.push({path:"/dataSet/message"}):(console.log("898989"),this.toStartLabel(t,t.label_type))},toStartLabel:function(t,e){console.log("wodedededed"),console.log(t),console.log(t.labelType),c["a"].dispatch("data/changeUuid",t.uuid),c["a"].dispatch("data/changeType",t.label_type),c["a"].dispatch("user/changeDataSet",t),0!==e&&3!==e||this.$router.push("/label/d2imageview"),1!==e&&4!==e||this.$router.push({path:"/label/polygonimageview"}),2===e&&this.$router.push({path:"/label/voice"}),5===e&&this.$router.push("/label/d3")},getbucket:function(){var t=this;Object(l["listBucket"])().then((function(e){t.list=e.data})).catch((function(){}))},chooseBucket:function(t){this.objectList=[];var e={bucketName:t};console.log(e),this.getobject(e)},getobject:function(t){var e=this;Object(l["listObject"])(t).then((function(t){t&&(console.log(t),e.objectList=t.data)})).catch()},getobjectbyPerfix:function(t,e,r){console.log(t.name);var o={};"/"==t.name.split("").reverse().join("").substring(0,1).split("").reverse().join("")?(console.log("isdir"),this.objectcurrentRow=t.name,this.objectcurrentPrefix=t.name.substring(0,t.name.length-1),o.bucketName=this.bucketlist,o.objectPrefix=this.objectcurrentPrefix,console.log(o),this.getobjectlist(o),this.objectoldPrefix=this.objectcurrentPrefix.substring(0,this.objectcurrentPrefix.length-this.objectcurrentPrefix.split("").reverse().indexOf("/")-1),this.objectoldRow=this.objectcurrentPrefix.substring(0,this.objectcurrentPrefix.length-this.objectcurrentPrefix.split("").reverse().indexOf("/"))):console.log("isnotdir"),this.selectBucket=this.bucketlist,this.selectObject=t.name},getobjectlist:function(t){var e=this;Object(l["k"])(t).then((function(t){e.objectList=t.data})).catch((function(t){console.log(t)}))},retuenOdlRow:function(){console.log(this.bucketlist),console.log(this.objectoldPrefix),console.log(this.objectoldRow),this.objectoldRow==this.objectoldPrefix&&(this.objectoldRow="",this.objectoldPrefix="",this.objectcurrentRow="",this.objectcurrentPrefix="",this.selectObject="");var t={};t.bucketName=this.bucketlist,t.objectPrefix=this.objectoldPrefix,console.log(t),this.getobjectlist(t),this.objectcurrentRow=this.objectoldRow,this.objectcurrentPrefix=this.objectoldPrefix,this.objectoldRow=this.objectcurrentPrefix.substring(0,this.objectcurrentPrefix.length-this.objectcurrentPrefix.split("").reverse().indexOf("/")),this.objectoldPrefix=this.objectcurrentPrefix.substring(0,this.objectcurrentPrefix.length-this.objectcurrentPrefix.split("").reverse().indexOf("/")-1)},returnInput:function(){this.inputBucket=this.selectBucket,this.inputObject=this.selectObject,this.form.input=this.selectObject,this.bucketlist="",this.list=[],this.objectList=[],this.objectcurrentRow="",this.objectcurrentPrefix="",this.objectoldRow="",this.objectoldPrefix="",this.selectBucket="",this.selectObject="",this.ossInputVisible=!1},notInput:function(){this.bucketlist="",this.list=[],this.objectList=[],this.objectcurrentRow="",this.objectcurrentPrefix="",this.objectoldRow="",this.objectoldPrefix="",this.selectBucket="",this.selectObject="",this.ossInputVisible=!1},returnOutput:function(){this.outputBucket=this.selectBucket,this.outputObject=this.selectObject,this.form.output=this.selectObject,this.bucketlist="",this.list=[],this.objectList=[],this.objectcurrentRow="",this.objectcurrentPrefix="",this.objectoldRow="",this.objectoldPrefix="",this.selectBucket="",this.selectObject="",this.ossOutputVisible=!1},notOutput:function(){this.bucketlist="",this.list=[],this.objectList=[],this.objectcurrentRow="",this.objectcurrentPrefix="",this.objectoldRow="",this.objectoldPrefix="",this.selectBucket="",this.selectObject="",this.ossOutputVisible=!1}}},b=m,p=(r("7369"),r("2877")),h=Object(p["a"])(b,o,a,!1,null,"9ff6a2ba",null);e["default"]=h.exports},e1f4:function(t,e){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var o=new Uint8Array(16);t.exports=function(){return r(o),o}}else{var a=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),a[e]=t>>>((3&e)<<3)&255;return a}}}}]);